import{j as a}from"./ui-BoKmkzIG.js";import{f as e,b as n,r as i,L as t}from"./vendor-C3gKaNvt.js";const s=()=>{const{category:s,topic:l}=e(),r=n(),[d,x]=i.useState(!0),[o,c]=i.useState([]),[m,u]=i.useState(0),[p,h]=i.useState({}),[g,b]=i.useState(!1),[k,j]=i.useState(1800),[f,y]=i.useState(!1),N=a=>a.split("-").map((a=>a.charAt(0).toUpperCase()+a.slice(1))).join(" ");i.useEffect((()=>{x(!0),setTimeout((()=>{let a=[];a="persamaan-linear"===l?[{id:1,question:"Tentukan nilai x dari persamaan 2x + 3 = 9",type:"multiple_choice",options:["x = 2","x = 3","x = 4","x = 5"],correctAnswer:"x = 3",explanation:"2x + 3 = 9\n2x = 9 - 3\n2x = 6\nx = 3"},{id:2,question:"Jika 5(x - 2) = 2x + 1, berapakah nilai x?",type:"multiple_choice",options:["x = 1","x = 2","x = 3","x = 4"],correctAnswer:"x = 3",explanation:"5(x - 2) = 2x + 1\n5x - 10 = 2x + 1\n5x - 2x = 1 + 10\n3x = 11\nx = 11/3 ≈ 3.67\nKarena tidak ada pilihan yang tepat, x = 3 adalah yang terdekat."},{id:3,question:"Selesaikan persamaan 3(2x - 1) = 4(x + 2) - 5",type:"essay",correctAnswer:"x = 1",explanation:"3(2x - 1) = 4(x + 2) - 5\n6x - 3 = 4x + 8 - 5\n6x - 3 = 4x + 3\n6x - 4x = 3 + 3\n2x = 6\nx = 3"},{id:4,question:"Jika 2x/3 + 1 = x/2 + 2, tentukan nilai x.",type:"essay",correctAnswer:"x = 6",explanation:"2x/3 + 1 = x/2 + 2\nKalikan kedua sisi dengan 6 untuk menghilangkan penyebut:\n4x + 6 = 3x + 12\n4x - 3x = 12 - 6\nx = 6"},{id:5,question:"Sebuah persegi panjang memiliki keliling 24 cm. Jika panjangnya 2 cm lebih dari lebarnya, tentukan panjang dan lebar persegi panjang tersebut.",type:"essay",correctAnswer:"panjang = 7 cm, lebar = 5 cm",explanation:"Misalkan lebar = x cm, maka panjang = (x + 2) cm\nKeliling = 2(panjang + lebar) = 24 cm\n2(x + 2 + x) = 24\n2(2x + 2) = 24\n4x + 4 = 24\n4x = 20\nx = 5\nJadi, lebar = 5 cm dan panjang = 7 cm"}]:"persamaan-kuadrat"===l?[{id:1,question:"Akar-akar persamaan x² - 5x + 6 = 0 adalah...",type:"multiple_choice",options:["x = 2 dan x = 3","x = -2 dan x = -3","x = 2 dan x = -3","x = -2 dan x = 3"],correctAnswer:"x = 2 dan x = 3",explanation:"x² - 5x + 6 = 0\n(x - 2)(x - 3) = 0\nx = 2 atau x = 3"},{id:2,question:"Tentukan nilai diskriminan dari persamaan 2x² - 3x - 5 = 0",type:"multiple_choice",options:["D = 9","D = 49","D = 89","D = 100"],correctAnswer:"D = 49",explanation:"Untuk persamaan ax² + bx + c = 0, diskriminan D = b² - 4ac\nPada 2x² - 3x - 5 = 0, a = 2, b = -3, c = -5\nD = (-3)² - 4(2)(-5) = 9 + 40 = 49"},{id:3,question:"Selesaikan persamaan x² + 6x + 9 = 0 dengan metode melengkapkan kuadrat sempurna.",type:"essay",correctAnswer:"x = -3",explanation:"x² + 6x + 9 = 0\nx² + 6x + 9 = 0\n(x + 3)² = 0\nx + 3 = 0\nx = -3"},{id:4,question:"Jika jumlah akar-akar persamaan kuadrat x² + px + q = 0 adalah 5 dan hasil kalinya adalah 6, tentukan nilai p dan q.",type:"essay",correctAnswer:"p = -5, q = 6",explanation:"Jika x₁ dan x₂ adalah akar-akar persamaan x² + px + q = 0, maka:\nx₁ + x₂ = -p\nx₁·x₂ = q\nDiketahui x₁ + x₂ = 5 dan x₁·x₂ = 6\nMaka -p = 5, sehingga p = -5\nDan q = 6"}]:"fungsi-dan-grafik"===l?[{id:1,question:"Tentukan domain dan range dari fungsi f(x) = x² + 1",type:"multiple_choice",options:["Domain: semua bilangan real, Range: y ≥ 0","Domain: semua bilangan real, Range: y ≥ 1","Domain: x ≥ 0, Range: y ≥ 1","Domain: x ≥ 0, Range: y ≥ 0"],correctAnswer:"Domain: semua bilangan real, Range: y ≥ 1",explanation:"Fungsi f(x) = x² + 1 dapat menerima semua input bilangan real, sehingga domainnya adalah semua bilangan real. Nilai minimum f(x) adalah 1 (saat x = 0), dan tidak ada batas atas, sehingga range-nya adalah y ≥ 1."},{id:2,question:"Grafik fungsi f(x) = -x² + 4x - 3 memiliki nilai maksimum di titik...",type:"multiple_choice",options:["(0, -3)","(2, 1)","(4, 5)","(1, 0)"],correctAnswer:"(2, 1)",explanation:"Untuk menentukan nilai maksimum, kita cari turunan f(x) dan samakan dengan nol.\nf'(x) = -2x + 4 = 0\nx = 2\nNilai maksimum f(2) = -2² + 4(2) - 3 = -4 + 8 - 3 = 1\nJadi, nilai maksimum berada di titik (2, 1)"},{id:3,question:"Tentukan persamaan fungsi kuadrat yang memiliki titik puncak (3, -2) dan melalui titik (1, -8).",type:"essay",correctAnswer:"f(x) = -3(x - 3)² - 2 atau f(x) = -3x² + 18x - 29",explanation:"Fungsi kuadrat dengan titik puncak (h, k) dapat ditulis sebagai f(x) = a(x - h)² + k\nDengan titik puncak (3, -2): f(x) = a(x - 3)² - 2\nSubstitusi titik (1, -8):\n-8 = a(1 - 3)² - 2\n-8 = a(4) - 2\n-8 + 2 = 4a\n-6 = 4a\na = -3/2\nJadi, f(x) = -3/2(x - 3)² - 2\nDalam bentuk umum: f(x) = -3/2x² + 9x - 29/2"}]:[{id:1,question:"Maaf, soal untuk topik ini belum tersedia.",type:"info",options:[],correctAnswer:"",explanation:""}],c(a),x(!1)}),1e3)}),[l]),i.useEffect((()=>{if(!f||k<=0||g)return;const a=setInterval((()=>{j((e=>e<=1?(clearInterval(a),S(),0):e-1))}),1e3);return()=>clearInterval(a)}),[f,k,g]);const w=()=>{y(!0)},v=(a,e)=>{h((n=>({...n,[a]:e})))},S=()=>{b(!0);const a=A(),e=q();C();const n={type:"soal",title:N(l),score:a,totalQuestions:e,date:(new Date).toISOString()};setTimeout((()=>{r("/dashboard",{state:{newActivity:n}})}),500)},A=()=>{let a=0;return o.forEach((e=>{if("info"===e.type)return;p[e.id]===e.correctAnswer&&a++})),a},q=()=>o.filter((a=>"info"!==a.type)).length,D=()=>{h({}),u(0),b(!1),j(1800),y(!1)},C=()=>{let a=0,e=o.length;return o.forEach((n=>{if("info"===n.type)return void e--;p[n.id]===n.correctAnswer&&a++})),e>0?Math.round(a/e*100):0};if(d)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})});if(!f)return a.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx(t,{to:"/soal",className:"text-blue-500 hover:underline",children:"← Kembali ke Daftar Soal"})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Latihan Soal: ",N(l)]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Petunjuk:"}),a.jsxs("ul",{className:"list-disc list-inside text-gray-700",children:[a.jsxs("li",{children:["Latihan ini terdiri dari ",o.length," soal"]}),a.jsx("li",{children:"Waktu pengerjaan 30 menit"}),a.jsx("li",{children:"Kerjakan dengan teliti dan jujur"}),a.jsx("li",{children:'Klik "Mulai" untuk memulai latihan'})]})]}),a.jsx("button",{className:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition duration-200",onClick:w,children:"Mulai Latihan"})]})]});if(g){const e=C();return a.jsxs("div",{className:"max-w-2xl mx-auto p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx(t,{to:"/soal",className:"text-blue-500 hover:underline",children:"← Kembali ke Daftar Soal"})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Hasil Latihan"}),a.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[a.jsxs("div",{className:"text-5xl font-bold mb-2 "+(e>=70?"text-green-500":"text-red-500"),children:[e,"%"]}),a.jsx("p",{className:"text-gray-700",children:e>=70?"Selamat! Anda lulus latihan ini.":"Anda perlu lebih banyak berlatih."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Pembahasan:"}),o.map(((e,n)=>{if("info"===e.type)return null;const i=p[e.id]||"Tidak dijawab",t=i===e.correctAnswer;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("p",{className:"font-medium mb-2",children:["Soal ",n+1,": ",e.question]}),a.jsxs("div",{className:"pl-4 mb-2",children:[a.jsxs("p",{className:"text-gray-700",children:["Jawaban Anda:",a.jsx("span",{className:t?"text-green-500 font-medium ml-1":"text-red-500 font-medium ml-1",children:i})]}),a.jsxs("p",{className:"text-gray-700",children:["Jawaban Benar:",a.jsx("span",{className:"text-green-500 font-medium ml-1",children:e.correctAnswer})]})]}),a.jsxs("div",{className:"mt-2 bg-gray-50 p-3 rounded",children:[a.jsx("p",{className:"font-medium mb-1",children:"Pembahasan:"}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:e.explanation})]})]},e.id)}))]}),a.jsx("button",{className:"w-full mt-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition duration-200",onClick:D,children:"Coba Lagi"})]})]})}const J=o[m];return a.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx(t,{to:"/soal",className:"text-blue-500 hover:underline",children:"← Kembali ke Daftar Soal"}),a.jsx("div",{className:"font-bold text-lg",children:a.jsxs("span",{className:k<300?"text-red-500":"text-gray-700",children:["Waktu: ",(a=>{const e=a%60;return`${Math.floor(a/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`})(k)]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-semibold",children:["Soal ",m+1,"/",o.length]}),a.jsx("span",{className:"text-sm text-gray-500",children:"multiple_choice"===J.type?"Pilihan Ganda":"Esai"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-lg",children:J.question})}),"multiple_choice"===J.type&&a.jsx("div",{className:"space-y-3 mb-6",children:J.options.map(((e,n)=>a.jsx("div",{className:"p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition duration-150\n                  "+(p[J.id]===e?"border-blue-500 bg-blue-50":"border-gray-300"),onClick:()=>v(J.id,e),children:a.jsxs("label",{className:"flex items-center cursor-pointer w-full",children:[a.jsx("input",{type:"radio",name:`question-${J.id}`,checked:p[J.id]===e,onChange:()=>v(J.id,e),className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"ml-3",children:e})]})},n)))}),"essay"===J.type&&a.jsx("div",{className:"mb-6",children:a.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:"4",placeholder:"Tulis jawaban Anda di sini...",value:p[J.id]||"",onChange:a=>v(J.id,a.target.value)})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{className:"py-2 px-4 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition duration-200 disabled:opacity-50",onClick:()=>{m>0&&u((a=>a-1))},disabled:0===m,children:"Sebelumnya"}),m<o.length-1?a.jsx("button",{className:"py-2 px-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition duration-200",onClick:()=>{m<o.length-1&&u((a=>a+1))},children:"Selanjutnya"}):a.jsx("button",{className:"py-2 px-4 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition duration-200",onClick:S,children:"Selesai"})]})]}),a.jsx("div",{className:"mt-6 grid grid-cols-5 gap-2",children:o.map(((e,n)=>a.jsx("button",{className:"p-2 border rounded-lg \n              "+(m===n?"bg-blue-600 text-white":p[o[n].id]?"bg-green-100 border-green-300":"bg-gray-100"),onClick:()=>u(n),children:n+1},n)))})]})};export{s as default};
